{% extends 'base.html' %}

{% block title %}About this Home{% endblock %}
{% block head %} {% endblock %}


{% block body %}

<nav class="navbar navbar-light p-3 navbar-expand" style="background-color: #e3f2fd;">
  <div class="container">
    <a href="" class="navbar-brand">Navigation</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a href="/myhomepage" class="nav-link">Go back to homepage!</a>
        </li>

        <li class="nav-item">
          <a href="/allproperties" class="nav-link">View all properties</a>
        </li>

        <li class="nav-item">
          <a href="/{{user.user_id}}/myfavorites" class="nav-link">View favorites!</a>
        </li>
        <li class="nav-item">
          <a href="/{{user.user_id}}/myapplications" class="nav-link">View my applications!</a>
        </li>

        <li class="nav-item">
          <a href="/log_out" class="nav-link">Log out</a>
        </li>

      </ul>
    </div>
  </div>
</nav>

<h1>${{ property_details.get('price')}}</h1>
<a href="/myhomepage"> Back to Home Page! </a><br>
<a href="/add_to_favorites/{{new_property_id}}"> Add to favorites! </a><br>

<a href="/apply/{{new_property_id}}"> Apply today!</a>
<p>
  id:{{new_property_id}}
  {{ address_details.get('line')}},<br>
  {{ address_details.city}}
  {{ address_details.state_code}}
  <div id="zip">{{ address_details.postal_code}}</div><br>
  <div id="lat">{{ address_details.get('lat')}}</div>
  <div id="lon">{{ address_details.get('lon')}}</div><br>
  {{ property_details.get('prop_type')}} <br>
  {{ property_details.get('beds')}} Beds<br>

  
  {{ property_details.get('baths_full')}} Baths<br>
  

  {% if 'building_size' in 'property_details' %}
  {{ property_details.building_size.get('size')}} sqft<br>
  {% endif %}

</p>
<h1>See on the map!</h1>
<div id="map"></div>



<h1>Key Feature!</h1>
Status {{ property_details.get('prop_status')}} <br>

{% if 'lot_size' in 'property_details' %}
Lot Size {{ property_details.lot_size.get('size')}} sqft <br>
{% endif %}

<h1>See below!</h1>

{% if property_details.description %}
  <p>{{property_details.description}}</p>
{% endif %}

<p>more details coming soon!</p>


<h1>Photos</h1>
<div class="gallery">
  <ul>
  {% for photo in photos %}
    <li><img class="images" src= {{photo.href}}/></li>
  {% endfor %}
  </ul>
</div>

<h1>School information</h1>
<div class="school">
  <ul>
  {% for school in schools %}
    <li>{{school.get('name')}}, {{school.ratings.get('great_schools_rating')}}</li>
  {% endfor %}
  </ul>
</div>

<h1>Point of Interests</h1>
<div id="interests">
  <ul>

    <div>
      <li>Restaurants</li>
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Address</th>
            <th>Distance</th>
          </tr>
        </thead>
        <tbody id="restaurants">
          <!--table populate the JS file-->
        </tbody>
      </table>
      <p id="restaurants"></p>
      <script src="/static/js/nearby_restaurants.js"></script>
    </div>
    <div>
      <li>Trails</li>
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>City,State</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody id="outdoors">
          <!--table populate the JS file-->
        </tbody>
      </table>
      <p id="restaurants"></p>
      <script src="/static/js/nearby_trails.js"></script>
    </div>
    
  </ul>
</div>


<script src="/static/js/maps.js"></script>

<script
  async
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBEqKcxHpYcXy26vXDUFySKYx0RqcOevmc&callback=initMap">
</script>




{% endblock %}
